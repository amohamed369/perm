---
phase: 25.2-home-demo-page-polish
plan: 03
type: execute
---

<objective>
Complete home page with FAQ accordion, contact form, and extended public footer.

Purpose: Build trust with FAQ answers and provide easy contact options.
Output: Complete home page with all v1 sections preserved.
</objective>

<CASCADING_CONTEXT>
## Instructions for All Agents, Plans, and Execution

### Core Philosophy
- **DRY, KISS** — No duplication, minimal complexity
- **Performance first** — Fast loading is critical, animations must be lightweight
- **Work within existing patterns** — Use v2 design system as-is, no new tokens
- **Explore first** — Fully understand before implementing
- **No clashing implementations** — Seamless integration with existing code

### Required Reading (MUST read before any implementation)
1. `.planning/FRONTEND_DESIGN_SKILL.md` — Frontend design patterns
2. `.planning/phases/17-design-system/design*` — Design docs 1-4
3. `perm_flow.md` — Case statuses, progress statuses, stage transitions
4. `v2/src/app/globals.css` — Existing animations and utilities
5. `v2/src/components/ui/` — Existing component patterns

### Implementation Rules
1. Use existing CSS animation utilities from globals.css
2. No new colors, shadows, or typography tokens
3. No new border-radius (system is square-corners only)
4. Keep code clean, organized, maintainable, readable
5. Ensure no clashing or duplicate implementations
6. Make fixes global — don't repeat patterns
7. Refactor as needed to fit fixes or improve maintainability
8. Abstract-able, scalable, DRY throughout

### Performance Requirements
- Animations must be CSS-based where possible (not JS-driven)
- Lazy load heavy components
- Optimize images (use next/image)
- Reduce motion on mobile for battery/performance
- Code split aggressively
- No blocking renders

### Quality Standards
- All features from v1 must be preserved
- Mobile responsive on all pages
- Dark mode support
- Touch-optimized on mobile
- Accessibility (ARIA labels, keyboard nav)
</CASCADING_CONTEXT>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/FRONTEND_DESIGN_SKILL.md
@.planning/phases/25.2-home-demo-page-polish/25.2-CONTEXT.md
@.planning/phases/25.2-home-demo-page-polish/25.2-01-SUMMARY.md
@.planning/phases/25.2-home-demo-page-polish/25.2-02-SUMMARY.md

**Prior context:**
- 25.2-01: Hero section, scroll utilities complete
- 25.2-02: Features, How It Works, Showcase complete

**V1 features to preserve:**
- FAQ (6 expandable items)
- Contact form + mailto fallback
- Footer with legal links
- Parallax floating shapes
- Grain overlay
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build FAQ accordion section (6 items)</name>
  <files>v2/src/components/home/FAQSection.tsx, v2/src/components/ui/accordion.tsx</files>
  <exploration>
    Check if shadcn/ui accordion is already installed.
    If not, check Radix UI accordion patterns.
    Review v1 FAQ questions from frontend/public/index.html.
  </exploration>
  <action>
    1. Install accordion if needed: npx shadcn@latest add accordion
       Or create simple accordion with existing patterns

    2. Create FAQSection.tsx with 6 FAQ items:
       Q1: "What is PERM and why do I need to track it?"
       Q2: "How does deadline tracking work?"
       Q3: "Is my data secure?"
       Q4: "Can I import existing cases?"
       Q5: "How does the AI assistant work?"
       Q6: "Is PERM Tracker really free?"

    Implementation:
    - Section header: "Frequently Asked Questions"
    - Each item: Clickable header that expands/collapses content
    - Smooth expand/collapse animation (CSS height transition or Framer Motion)
    - Only one item open at a time (accordion behavior)
    - Icons: Plus/minus or chevron rotation on toggle
    - Hard shadow on active item (optional)
    - ScrollReveal on section entrance
    - Dark mode via CSS variables
    - Accessible: keyboard navigation, ARIA attributes

    Fresh, helpful answers - not marketing fluff.
  </action>
  <verify>pnpm build succeeds, accordion expands/collapses smoothly</verify>
  <done>FAQ section with 6 expandable items, accessible, animated</done>
</task>

<task type="auto">
  <name>Task 2: Build contact section with form and link cards</name>
  <files>v2/src/components/home/ContactSection.tsx</files>
  <exploration>
    Check v1 contact section structure.
    Review existing Input, Textarea, Button components.
    Look for email validation patterns in the codebase.
  </exploration>
  <action>
    Create ContactSection.tsx with:

    1. Section header: "Get in Touch"

    2. Contact form:
       - Name field (Input component)
       - Email field (Input with email validation)
       - Message field (Textarea component)
       - Submit button (Button component, primary variant)
       - Client-side validation with error messages
       - On submit: mailto: fallback (no backend needed for now)
         - Format: mailto:support@permtracker.app?subject=...&body=...
       - Success state with toast or inline message

    3. Contact link cards (2 cards side by side):
       - "Email Support" - support@permtracker.app
       - "View Documentation" - /docs or external link
       - Use Card component with hover lift
       - Icons: Mail, Book/FileText

    Implementation:
    - 2-column layout: Form on left, cards on right (stack on mobile)
    - Use existing form styling patterns
    - Add shake animation on validation error (.animate-shake)
    - ScrollReveal on section
    - Dark mode support
  </action>
  <verify>pnpm build succeeds, form validates, mailto link works</verify>
  <done>Contact section with validated form and link cards</done>
</task>

<task type="auto">
  <name>Task 3: Extend Footer for public pages and add decorative elements</name>
  <files>v2/src/components/layout/Footer.tsx, v2/src/components/home/DecorativeElements.tsx</files>
  <exploration>
    Review existing Footer.tsx implementation.
    Check v1 footer for all required links.
    Look for parallax patterns in v1 frontend/src/js/utils/ui/parallax.js.
  </exploration>
  <action>
    1. Extend Footer.tsx:
       - Add variant prop: 'compact' (current) | 'extended' (public pages)
       - Extended variant includes:
         - Logo and tagline
         - Navigation links: Home, Demo, Privacy, Terms, Contact
         - Social links (if any in v1)
         - Copyright with dynamic year
       - Keep compact variant unchanged (authenticated pages)
       - Fix any existing issues (mono font class if broken)

    2. Create DecorativeElements.tsx:
       - Grain overlay (use existing .grain-overlay class)
       - Floating shapes with parallax effect:
         - 2-3 geometric shapes (squares, circles)
         - Positioned in corners/edges (absolute positioning)
         - Parallax on scroll (translateY based on scroll position)
         - CSS transform for performance (not top/left)
         - Reduced/disabled on prefers-reduced-motion
       - Import and use in (public)/layout.tsx

    3. Update (public)/layout.tsx:
       - Add DecorativeElements component
       - Pass variant="extended" to Footer

    Note: Keep parallax lightweight - use CSS transforms, throttle scroll handler.
  </action>
  <verify>pnpm build succeeds, footer shows extended version on /, parallax moves on scroll</verify>
  <done>Extended footer, grain overlay, parallax floating shapes</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete home page with FAQ, contact form, extended footer, and decorative parallax elements</what-built>
  <how-to-verify>
    1. Run: pnpm dev (Convex should already be running)
    2. Visit: http://localhost:3000
    3. Scroll through entire home page and verify:
       - Hero section (from 25.2-01)
       - Features grid with 3 cards
       - How It Works with 3 numbered steps
       - Feature Showcase with 6 items
       - FAQ accordion (click to expand/collapse)
       - Contact form (validate fields, test submit)
       - Extended footer with all links
    4. Test FAQ:
       - Click each question - expands smoothly
       - Only one open at a time
       - Keyboard accessible (Tab, Enter)
    5. Test Contact form:
       - Leave fields empty and submit - shows validation errors
       - Enter invalid email - shows error
       - Fill correctly and submit - mailto link opens
    6. Test decorative elements:
       - Grain overlay visible (subtle texture)
       - Floating shapes move on scroll (parallax)
    7. Test dark mode: Toggle theme
    8. Test mobile: Resize browser width
       - All sections stack properly
       - FAQ still works
       - Contact form usable
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] FAQ accordion with 6 items, smooth animation
- [ ] Contact form with validation
- [ ] Mailto fallback works
- [ ] Contact link cards present
- [ ] Footer extended variant with all links
- [ ] Grain overlay visible
- [ ] Parallax floating shapes on scroll
- [ ] Dark mode works everywhere
- [ ] Mobile responsive
- [ ] pnpm build succeeds
- [ ] Human checkpoint approved
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Home page is complete (all v1 sections present)
- No TypeScript errors
- FAQ accordion is accessible
- Human checkpoint approved
</success_criteria>

<output>
After completion, create `.planning/phases/25.2-home-demo-page-polish/25.2-03-SUMMARY.md`:

# Phase 25.2 Plan 03: Home Page Completion Summary

**[Substantive one-liner - what shipped]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]
- [Key outcome 3]

## Files Created/Modified

- `path/to/file.ts` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 25.2-04-PLAN.md (Demo Page Core)
</output>
