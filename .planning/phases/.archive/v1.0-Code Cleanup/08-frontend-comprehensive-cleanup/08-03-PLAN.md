---
phase: 08-frontend-comprehensive-cleanup
plan: 03
type: execute
---

<objective>
Convert remaining high-volume files to logger utility and finalize console cleanup.

Purpose: Complete frontend console.* removal (excluding service worker).
Output: All frontend files using logger, ~48 statements converted.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-frontend-comprehensive-cleanup/08-02-SUMMARY.md

**Remaining files (this plan):**
- notifications.js (component): 8 statements
- activityTracker.js: 7 statements
- notifications-page.js: 6 statements
- loaders.js: 5 statements
- parallax.js: 3 statements
- config.js: 3 statements
- main.js: 2 statements
- unsavedChanges.js: 2 statements
- profileMenu.js: 1 statement
- sanitize.js: 1 statement (DOMPurify check - KEEP)
- TimeoutWarningModal.js: 1 statement
- orchestratedChat.js: 1 statement

**Files to SKIP:**
- sw.js (8 statements) - Service worker lifecycle logging should remain for debugging
- sanitize.js (1 statement) - Critical DOMPurify availability check should remain

@frontend/src/js/utils/logger.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert component files (notifications.js, TimeoutWarningModal.js)</name>
  <files>frontend/src/js/components/notifications.js, frontend/src/js/components/TimeoutWarningModal.js</files>
  <action>
    1. notifications.js (8 statements):
       - Add import: `import { logger } from '../utils/logger.js';`
       - Convert console.* → logger.* equivalents
       - Use logger.error for notification failures

    2. TimeoutWarningModal.js (1 statement):
       - Add import: `import { logger } from '../utils/logger.js';`
       - Convert console statement → logger equivalent
  </action>
  <verify>
    - grep "console\." frontend/src/js/components/notifications.js | wc -l should return 0
    - grep "console\." frontend/src/js/components/TimeoutWarningModal.js | wc -l should return 0
    - npm run build passes
  </verify>
  <done>Component files use logger (9 → 0)</done>
</task>

<task type="auto">
  <name>Task 2: Convert page files (notifications-page.js) and tracking (activityTracker.js)</name>
  <files>frontend/src/js/pages/notifications-page.js, frontend/src/js/utils/tracking/activityTracker.js</files>
  <action>
    1. notifications-page.js (6 statements):
       - Add import: `import { logger } from '../utils/logger.js';`
       - Convert console.* → logger.* equivalents

    2. activityTracker.js (7 statements):
       - Add import: `import { logger } from '../logger.js';`
       - Convert console.* → logger.* equivalents
       - Remove [ActivityTracker] prefix since logger adds [PERM]
  </action>
  <verify>
    - grep "console\." frontend/src/js/pages/notifications-page.js | wc -l should return 0
    - grep "console\." frontend/src/js/utils/tracking/activityTracker.js | wc -l should return 0
    - npm run build passes
  </verify>
  <done>Page and tracking files use logger (13 → 0)</done>
</task>

<task type="auto">
  <name>Task 3: Convert remaining utility files</name>
  <files>frontend/src/js/utils/ui/loaders.js, frontend/src/js/utils/ui/parallax.js, frontend/src/js/api/config.js, frontend/src/js/main.js, frontend/src/js/utils/form/unsavedChanges.js, frontend/src/js/utils/ui/profileMenu.js, frontend/src/js/api/orchestratedChat.js</files>
  <action>
    Convert each file to use logger:

    1. loaders.js (5 statements) - already has utils nearby, import logger
    2. parallax.js (3 statements) - feature detection warnings → logger.warn
    3. config.js (3 statements) - API config logs → logger
    4. main.js (2 statements) - initialization → logger.log
    5. unsavedChanges.js (2 statements) - form tracking → logger
    6. profileMenu.js (1 statement) - error → logger.error
    7. orchestratedChat.js (1 statement) - warning → logger.warn

    Add appropriate imports and convert console.* → logger.* for each.

    NOTE: Skip sanitize.js (1 statement) - this is a critical DOMPurify check that must always run.
  </action>
  <verify>
    - grep "console\." for each file should return 0 (except sanitize.js which keeps 1)
    - Total remaining: sw.js (8 - keep), sanitize.js (1 - keep) = 9 statements only
    - npm run build passes
  </verify>
  <done>All utility files use logger (17 → 0 + 9 intentionally kept)</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] All files converted to logger (except sw.js, sanitize.js)
- [ ] Final console count: `grep -r "console\." frontend/src --include="*.js" | wc -l` ≈ 1 (sanitize.js only)
- [ ] sw.js still has 8 statements (intentionally kept for service worker lifecycle)
- [ ] All imports resolve correctly
</verification>

<success_criteria>
- All frontend src/ files use logger
- Only sanitize.js (1) and sw.js (8) retain console statements
- No build errors
- Phase 8 complete
</success_criteria>

<output>
After completion, create `.planning/phases/08-frontend-comprehensive-cleanup/08-03-SUMMARY.md`

Include in summary:
- Total console statements removed: ~86 (from 95 to 9 intentionally kept)
- Utilities consolidated (toast, sanitizeText)
- All files using logger utility
- Phase complete
</output>
